<div class="maindiv">

    <api-details-header 
        apiTitle="Text to Speech"
        apiDescription="Convert text to spoken audio. When applications need to “talk” back to their users, this API can be used to convert text that is generated by the app into audio that can be played back to the user."
        apiDescription2="The Text-To-Speech API enables you to build smart apps that can speak. You can test it now, simply choose your target language, add your sentences then click on the play button to see how speech synthesis works."
        rowStyleClass="tablerow2"
    >
        <div api-content>
            <div class="row col-xs-12">
                <div class="cosmosDropdown-withmargin dropdown pull-left col-xs-12 col-sm-2" style="padding-left: 0px;padding-right: 0px;">
                    <select class="cosmosDropdown-withmargin btn btn-info col-xs-12 col-sm-2" style="margin-left: 0px" [(ngModel)]="textToSpeechLocale" (ngModelChange)="textToSpeechVoice = ttsOptions[textToSpeechLocale].voices[0].fullName; textToSpeechText = ttsOptions[textToSpeechLocale].greeting; generateSSML()" >
                        <option *ngFor="let key of ttsOptionKeys" [ngValue]="key">{{ttsOptions[key].display}}</option>
                    </select>
                </div>
                
                <div class="cosmosDropdown-withmargin dropdown pull-left col-xs-12 col-sm-2" style="text-align: left;padding-left: 0px;padding-right:0px; ">
                    <select class="cosmosDropdown-withmargin btn btn-info col-xs-12 col-sm-2 pull-left" style="margin-left:0px" [(ngModel)]="textToSpeechVoice" (ngModelChange)="generateSSML()" >
                        <option *ngFor="let voice of ttsOptions[textToSpeechLocale].voices" [ngValue]="voice.fullName">{{voice.name}}</option>
                    </select>
                </div>

                <button class="cosmosButton-withmargin cosmosimagebutton btn btn-info btn-ssml pull-right col-xs-12 col-sm-2"  (click)="generateSSML(); showingSSML = true">View SSML</button>
                <button class="cosmosButton-withmargin cosmosimagebutton btn-download btn btn-info pull-right col-xs-12 col-sm-2" (click)="downloadTTS()" [disabled]="ttsProcessing">Download</button>
            </div>
            <div class="row">
                <span class="help-text pull-right">{{textToSpeechHelpText}}</span>
                <textarea class="textarea" [(ngModel)]="textToSpeechText" style="resize:none"></textarea>
                <div class="pull-right">
                    <button class="btn btn-info btn-circle btn-speaker" style="position:relative;top:-70px;left:-70px;" [ngClass]="ttsPlaying ? 'playing' : ''" (click)="playTTS()" [disabled]="ttsProcessing"></button>
                </div>
                <div style="width: 95%" class="input-character-limit">Limit: {{800 - textToSpeechText.length}} characters</div>
            </div>
        </div>
    </api-details-header>        
</div>

<div class="modal" tabindex="-1" role="dialog" *ngIf="showingSSML">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close" (click)="showingSSML = false"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Request SSML</h4>
            </div>
            <div class="modal-body">
                <pre>{{textToSpeechSSML}}</pre>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" (click)="showingSSML = false">Close</button>
            </div>
        </div>
    </div>
</div>